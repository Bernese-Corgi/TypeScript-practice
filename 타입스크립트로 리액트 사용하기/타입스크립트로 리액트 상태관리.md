# íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¡œ ë¦¬ì•¡íŠ¸ ìƒíƒœê´€ë¦¬í•˜ê¸°

- [íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¡œ ë¦¬ì•¡íŠ¸ ìƒíƒœê´€ë¦¬í•˜ê¸°](#íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¡œ-ë¦¬ì•¡íŠ¸-ìƒíƒœê´€ë¦¬í•˜ê¸°)
  - [useState](#usestate)
    - [Genericsë¥¼ ì‚¬ìš©í•´ íƒ€ì… ì§€ì •í•˜ê¸°](#genericsë¥¼-ì‚¬ìš©í•´-íƒ€ì…-ì§€ì •í•˜ê¸°)
  - [Input ìƒíƒœ ê´€ë¦¬](#input-ìƒíƒœ-ê´€ë¦¬)
    - [e ê°ì²´ì˜ íƒ€ì…](#e-ê°ì²´ì˜-íƒ€ì…)
    - [form ì‘ì„±í•˜ê¸°](#form-ì‘ì„±í•˜ê¸°)
  - [useReducer](#usereducer)
    - [Counter ì˜ˆì œ](#counter-ì˜ˆì œ)
    - [useReducer Sample](#usereducer-sample)

## useState

### Genericsë¥¼ ì‚¬ìš©í•´ íƒ€ì… ì§€ì •í•˜ê¸°

ê¸°ë³¸ì ìœ¼ë¡œ genericsë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ìë™ìœ¼ë¡œ íƒ€ì…ì„ ìœ ì¶”í•  ìˆ˜ ìˆë‹¤.

```tsx
function Counter() {
  // genericsë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ íƒ€ì…ì„ ìœ ì¶”í•  ìˆ˜ ìˆë‹¤.
  const [count, setCount] = useState(0);
  // ...
}
```

![image](https://user-images.githubusercontent.com/72931773/129469573-64362c2d-18c0-4e10-9a6c-01e3b594cd60.png)


**Genericsë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°**

GenericsëŠ” ìƒíƒœê°€ `null`ì¼ ìˆ˜ë„ ìˆê³  ì•„ë‹ìˆ˜ë„ ìˆì„ ë•Œ ì‚¬ìš©í•œë‹¤.

```tsx
type Information = { name: string; description: string };

function Comp() {
  const [info, setInformation] = useState(null);
  // ...
}

export default Comp;
```

![image](https://user-images.githubusercontent.com/72931773/129469637-c9528f72-d8fe-428a-81f1-af4ce405623d.png)


```tsx
type Information = { name: string; description: string };

function Comp() {
  const [info, setInformation] = useState<Information | null>(null);
  // ...
}

export default Comp;
```

![image](https://user-images.githubusercontent.com/72931773/129469671-9bd8a03a-2e1c-4ed0-855c-1f1d7c1c1591.png)


## Input ìƒíƒœ ê´€ë¦¬

### e ê°ì²´ì˜ íƒ€ì…

**`onChange`ì˜ `e` ê°ì²´ì˜ íƒ€ì…** : `React.ChangeEvent<HTMLInputElement>`ì´ë‹¤.

![image](https://user-images.githubusercontent.com/72931773/129469723-12a9be00-7cab-4a73-ada4-d634e45ceb12.png)

ì´ë²¤íŠ¸ í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ e ê°ì²´ì— íƒ€ì…ì„ ì§€ì •í•´ì¤€ë‹¤.

```tsx
const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {
  //
};
```

**`onSubmit`ì˜ `e` ê°ì²´ì˜ íƒ€ì…** : `React.FormEvent<HTMLFormElement>`ì´ë‹¤.


ì´ë²¤íŠ¸ í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ e ê°ì²´ì— íƒ€ì…ì„ ì§€ì •í•´ì¤€ë‹¤.

```tsx
const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {
  //
};
```

![image](https://user-images.githubusercontent.com/72931773/129469827-5a484ef5-b634-4a7b-84e0-793727569b40.png)

### form ì‘ì„±í•˜ê¸°

íƒ€ì… ì•¨ë¦¬ì–´ìŠ¤ë¡œ formì— ì‚¬ìš©ë  propsë“¤ì˜ íƒ€ì…ì„ ì§€ì •í•œë‹¤.

```tsx
import React, { useState } from 'react';

type MyFormProps = {
  onSubmit: (form: { name: string; description: string }) => void;
};
```

useStateë¥¼ ì‚¬ìš©í•´ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê³ , ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•œë‹¤.

```tsx
const MyForm = ({ onSubmit }: MyFormProps) => {
  const [form, setForm] = useState({
    name: '',
    description: '',
  });

  const { name, description } = form;

  const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    const { name, value } = e.target;
    // ê¸°ì¡´ form ë‚´ìš©ì„ ë„£ê³ , nameì˜ ê°’ì„ ë®ì–´ì”Œìš´ë‹¤.
    setForm({
      ...form, // ê¸°ì¡´ form ë‚´ìš©ì„ ë„£ëŠ”ë‹¤.
      [name]: value, // value : ì´ë²¤íŠ¸ ê°ì²´ì—ì„œ ê°€ì ¸ì˜¨ value ê°’ = ì‚¬ìš©ìê°€ ë°”ê¾¸ë ¤ê³  í•˜ëŠ” ê°’
    });
  };

  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    onSubmit(form); // onSubmitì— formì„ ë„£ì–´ì„œ í˜¸ì¶œ
    setForm({
      name: '',
      description: '',
    }); // ì´ˆê¸°í™”
  };

  return (
    <form onSubmit={handleSubmit}>
      <input name="name" value={name} onChange={onChange} />
      <input name="description" value={description} onChange={onChange} />
      <button type="submit">ë“±ë¡</button>
    </form>
  );
};

export default MyForm;
```

App ì»´í¬ë„ŒíŠ¸ì—ì„œ MyFormì„ ë¶ˆëŸ¬ì˜¨ë‹¤.

```tsx
import React from 'react';
import MyForm from './MyForm';

const App: React.FC = () => {
  const onSubmit = (form: { name: string; description: string }) => {
    console.log(form);
  };

  return (
    <div>
      <MyForm onSubmit={onSubmit} />
    </div>
  );
};

export default App;
```

## useReducer

ì•¡ì…˜ì˜ íƒ€ì…ì„ íƒ€ì… ì•¨ë¦¬ì–´ìŠ¤ë¡œ ì„ ì–¸í•œë‹¤.

```tsx
type Action = { type: 'INCREASE' } | { type: 'DECREASE' };
```

![](https://user-images.githubusercontent.com/72931773/129651671-034edf7a-309f-4948-a115-b28d42a07168.png)

ğŸ”» ì„ ì–¸í•œ íƒ€ì…ì´ ìë™ì™„ì„±ëœë‹¤.

![](https://user-images.githubusercontent.com/72931773/129651675-11ecef26-d1a3-4548-a6a3-71c4d1bf7343.png)

![](https://user-images.githubusercontent.com/72931773/129651677-bdcc0623-5258-4961-912a-7820ae23353f.png)

ğŸ”» ì •í•´ë‘” íƒ€ì…ëŒ€ë¡œ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

![](https://user-images.githubusercontent.com/72931773/129651685-3e2af76a-d3a3-44b8-bb9b-56334c6cc362.png)

### Counter ì˜ˆì œ

```tsx
import React, { useReducer } from 'react';

// ì•¡ì…˜ íƒ€ì…
type Action = { type: 'INCREASE' } | { type: 'DECREASE' };

// ë¦¬ë“€ì„œ í•¨ìˆ˜
function reducer(state: number, action: Action): number {
  switch (action.type) {
    case 'INCREASE':
      return state + 1;
    case 'DECREASE':
      return state - 1;

    default:
      throw new Error('Unhandled action');
  }
}

// ì»´í¬ë„ŒíŠ¸
const CounterR = () => {
  const [count, dispatch] = useReducer(reducer, 0);
  console.log(reducer);
  const onIncrease = () => dispatch({ type: 'INCREASE' });
  const onDecrease = () => dispatch({ type: 'DECREASE' });
  return (
    <div>
      <h1>{count}</h1>
      <div>
        <button onClick={onIncrease}>+1</button>
        <button onClick={onDecrease}>-1</button>
      </div>
    </div>
  );
};

export default CounterR;
```


### useReducer Sample

```tsx
import React, { useReducer } from 'react';

// íƒ€ì… ì„ ì–¸
type Color = 'red' | 'orange' | 'yellow';

type State = {
  count: number;
  text: string;
  color: Color;
  isGood: boolean;
};

type Action =
  | { type: 'SET_COUNT'; count: number }
  | { type: 'SET_TEXT'; text: string }
  | { type: 'SET_COLOR'; color: Color }
  | { type: 'TOGGLE_GOOD' };

// ë¦¬ë“€ì„œ í•¨ìˆ˜
function reducer(state: State, action: Action): State {
  switch (action.type) {
    case 'SET_COUNT':
      return {
        ...state,
        count: action.count, // countê°€ ìë™ì™„ì„±ë˜ë©°, number íƒ€ì…ì¸ê±¸ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      };
    case 'SET_TEXT':
      return {
        ...state,
        text: action.text, // textê°€ ìë™ì™„ì„±ë˜ë©°, string íƒ€ì…ì¸ê±¸ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      };
    case 'SET_COLOR':
      return {
        ...state,
        color: action.color, // color ê°€ ìë™ì™„ì„±ë˜ë©° color ê°€ Color íƒ€ì…ì¸ê±¸ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      };
    case 'TOGGLE_GOOD':
      return {
        ...state,
        isGood: !state.isGood, // isGoodì„ ë°˜ì „ì‹œí‚¨ë‹¤.
      };
    default:
      throw new Error('Unhandled action');
  }
}

function ReducerSample() {
  const [state, dispatch] = useReducer(reducer, {
    count: 0,
    text: 'hello',
    color: 'red',
    isGood: true,
  });

  const setCount = () => dispatch({ type: 'SET_COUNT', count: 5 }); // count ë¥¼ ë„£ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ë°œìƒ
  const setText = () => dispatch({ type: 'SET_TEXT', text: 'bye' }); // text ë¥¼ ë„£ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ ë°œìƒ
  const setColor = () => dispatch({ type: 'SET_COLOR', color: 'orange' }); // orange ë¥¼ ë„£ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ ë°œìƒ
  const toggleGood = () => dispatch({ type: 'TOGGLE_GOOD' });

  return (
    <div>
      <p>
        <code>count: </code> {state.count}
      </p>
      <p>
        <code>text: </code> {state.text}
      </p>
      <p>
        <code>color: </code> {state.color}
      </p>
      <p>
        <code>isGood: </code> {state.isGood ? 'true' : 'false'}
      </p>
      <div>
        <button onClick={setCount}>SET_COUNT</button>
        <button onClick={setText}>SET_TEXT</button>
        <button onClick={setColor}>SET_COLOR</button>
        <button onClick={toggleGood}>TOGGLE_GOOD</button>
      </div>
    </div>
  );
}

export default ReducerSample;
```


