# Types 타입 기본

## 타입 지정

타입을 지정할 수 있는 것들

- 일반 변수
- 매개 변수 (parameter)
- 객체 속성 (property)

타입 지정 방법

- 변수나 프로퍼티 뒤에 `:TYPE` 을 붙여준다.

```tsx
function someFunc(a: TYPE_A, b: TYPE_B): TYPE_RETRURN {
  return a + b;
}

let some: TYPE_SOME = someFunc(1, 2);
```

## 타입 에러

타입 에러는 코드 작성 시점에서 에러가 발생한다.

![image](https://user-images.githubusercontent.com/72931773/124132493-d7d91600-dabb-11eb-9b8f-5282a4254e48.png)

ts(2332) : 에러 코드

## 타입 선언

### 원시 타입 The primitives

- 자바스크립트의 원시타입 문자열, 숫자, 불리언 값에 해당하는 타입들.
- `String`, `Number`, `Boolean`은 일반적으로 표준 빌트인 내장 객체를 의미하기 때문에 대문자를 사용하지 않도록 주의한다

#### 불리언 Boolean

- 두가지 값을 가진다 : `true` or `false`

```ts
let isBoolean: boolean;
let isDone: boolean = false;
```

#### 숫자 Number

- 모든 부동 소수점 값 사용 가능.
- 자바스크립트는 정수에 대한 특별한 런타임 값이 없으므로 `int` 또는 `float`에 해당하는 값은 없다.
- ES6에서 도입된 2진수 및 8진수 리터럴도 지원한다.
- 숫자 외에 `Infinity`, `NaN`도 number 타입에 해당한다.

```ts
// 모두 실수로 처리가 된다.
let num: number;
let integer: number = 6;
let float: number = 3.14;
let hex: number = 0xf00d; // 61453
let binary: number = 0b1010; // 10
let octal: number = 0o744; // 484
let infinity: number = Infinity;
let nan: number = NaN;
```

#### 문자열 String

- 작은따옴표 '', 큰따옴표 "", ES6 템플릿 문자열

```ts
let str: string;
let red: string = 'Red';
let green: string = 'Green';
let myColor: string = `My color is ${red}.`;
let yourColor: string = 'Your color is' + green;
```

#### Null, Undefined

### 배열 Array

- 순차적으로 값을 가지는 일반 배열
- 배열 내의 요소들의 타입을 지정하려면 `number[]`, `string[]` 등의 타입을 지정한다.
  - `Array<number>`로 쓸 수도 있다.

1. 문자열만 가지는 배열

   ```ts
   let strArray1: string[] = ['one', 'two', 'three'];
   let strArray2: Array<string> = ['one', 'two', 'three'];
   ```

2. 숫자만 가지는 배열

   ```ts
   let numArray1: number[] = [1, 2, 3];
   let numArray2: Array<number> = [1, 2, 3];
   ```

3. 유니언 타입 (다중 타입): 문자열과 숫자를 동시에 가지는 배열

   ```ts
   let unionArray1: (string | number)[] = ['one', 2, 'three', 4, 'five'];
   let unionArray2: Array<string | number> = ['one', 2, 'three', 4, 'five'];
   ```

4. any : 배열이 가지는 항목의 값을 단언할 수 없을 때 사용

   ```ts
   let anyArray: any[] = ['one', 2, {}, [], true];
   ```

5. 인터페이스 또는 커스텀 타입을 사용할 수도 있다.

   ```ts
   interface IUser {
     name: string;
     age: number;
     isValid: boolean;
   }
   let userArr: IUser[] = [
     {
       name: 'Neo',
       age: 85,
       isValid: true,
     },
     {
       name: 'Lewis',
       age: 52,
       isValid: false,
     },
     {
       name: 'Evan',
       age: 36,
       isValid: true,
     },
   ];
   ```

6. 특정한 값으로 타입을 대신해서 작성할 수 있다.

7. 읽기 전용 배열을 생성할 수 있다.

   `readonly` 키워드 혹은 `ReadonlyArray` 타입을 사용

   ```ts
   let arrReadonlyA: readonly number[] = [1, 2, 3, 4];
   let arrReadonlyB: ReadonlyArray<number> = [0, 9, 8, 7];

   // arrA[0] = 123; // Error - TS2542: Index signature in type 'readonly number[]' only permits reading.
   // arrA.push(123); // Error - TS2339: Property 'push' does not exist on type 'readonly number[]'.

   // arrB[0] = 123; // Error - TS2542: Index signature in type 'readonly number[]' only permits reading.
   // arrB.push(123); // Error - TS2339: Property 'push' does not exist on type 'readonly number[]'.
   ```

### 튜플 Tuple

- 배열과 유사.
- 차이는 정해진 타입의 고정된 길이 배열을 표현한다는 것.

```ts
let tuple: [string, number];
tuple = ['a', 1];
// tuple = ['a', 1, 2]; // Error - ts(2322)
// tuple = [1, 'a']; // Error - ts(2322)
```

1. 데이터를 개별 변수로 지정하지 않고 단일 Tuple 타입으로 지정해 사용할 수 있다.
2. Tuple 타입의 배열(2차원 배열)을 사용할 수 있다.
   ```ts
   let users: [number, string, boolean][];
   users = [
     [1, 'Neo', true],
     [2, 'Evan', false],
     [3, 'Lewis', true],
   ];
   ```
3. 값으로 타입을 대신할 수 있다.

   ```ts
   let valTuple: [1, number];
   valTuple = [1, 2];
   valTuple = [1, 3];
   // valTuple = [2, 3]; // Error - TS2322: Type '2' is not assignable to type '1'.
   ```

4. 정해진 타입의 고정된 길이 배열을 표현하지만, 할당 Assign에 국한된다.

   `.push()` 나 `.splice()` 등을 통해 값을 넣는 행위는 막을 수 없다.

   ```ts
   let assignTuple: [string, number];
   assignTuple = ['a', 1];
   assignTuple = ['b', 2];
   assignTuple.push(3);
   console.log(assignTuple); // ['b', 2, 3];
   // assignTuple.push(true); // Error - TS2345: Argument of type 'true' is not assignable to parameter of type 'string | number'.
   ```

5. `readonly` 키워드를 사용해 읽기 전용 튜플을 생성할 수도 있다.

### 열거형 Enum

- 숫자 혹은 문자열 값 집합에 이름을 부여할 수 있는 타입
- 값의 종류가 일정한 범위로 정해져 있는 경우 유용하다.
- 기본적으로 `0`부터 시작하고, 값은 `1` 씩 증가한다.

```ts
enum Week {
  Sun,
  Mon,
  Tue,
  Wed,
  Thu,
  Fri,
  Sat,
}

console.log(Week.Mon); // 1
console.log(Week.Tue); // 2
```

- 수동으로 값을 변경할 수 있다.
- 값을 변경한 부분부터 다시 `1`씩 증가한다.

  ```ts
  enum Week {
    Sun,
    Mon = 10,
    Tue,
    Wed,
    Thu,
    Fri,
    Sat,
  }

  console.log(Week.Mon); // 10
  console.log(Week.Tue); // 11
  ```

- 역방향 매핑을 지원한다
- 열거된 멤버로 값에 접근할 수 있고, 값으로 멤버에 접근할 수 있다.

  ```ts
  console.log(Week.Sun); // 0
  console.log(Week['Sun']); // 0
  console.log(Week[0]); // 'Sun'
  ```

- 문자열 값으로 열거해서 초기화할 수 있다.
- 다만, 역방향 매핑을 지원하지 않는다.
- 개별적으로 초기화해야 한다.

  ```ts
  enum Color {
    Red = 'red',
    Green = 'green',
    Blue = 'blue',
  }
  console.log(Color.Red); // red
  console.log(Color['Green']); // green
  ```

### Any 모든 타입

- `any`는 모든 타입을 의미한다. = 어떤 타입의 값도 할당할 수 있다.
- 타입스크립트에는 특정 값으로 인해 유형 검사 오류가 발생하지 않도록 사용할 수 있는 특수 유형 `any`가 있다.
- `any`를 사용하면 추가 타입 검사가 모두 비활성화된다.
- 불가피하게 타입을 단언할 수 없는 경우 유용하다.

```ts
let any: any = 123;
any = 'Hello world';
any = {};
any = null;
```

- 해당 프로퍼티에 접근할 수 있고, 함수처럼 호출할 수 있고, 모든 타입의 값에 할당하거나, 거의 모든 항목에서 할당할 수 있다.

  ```ts
  let anyObj: any = { x: 0 };
  anyObj.bar = 100;
  console.log(anyObj); // { x: 0, bar: 100 }
  anyObj = 'hello';
  console.log(anyObj); // 'hello'

  const n: number = anyObj;
  console.log(n, typeof n); // 'hello' string
  ```

- 다양한 값을 포함하는 배열을 나타낼 때 사용할 수도 있다.

  ```ts
  const list: any[] = [1, true, 'Anything!'];
  ```

- 타입을 지정하지 않고 타입스크립트가 컨텍스트에서 추론할 수 없는 경우, 컴파일러는 일반적으로 `any`를 기본으로 설정한다. 이는 타입 검사가 되지 않기 때문에 일반적으로 이것을 피하는 것이 좋다.
- `any` 사용을 금지하려면, 컴파일 옵션을 변경해 에러를 발생시킬 수 있다.

  ```json
  "noImplicitAny": true
  ```

### Unknown : 알 수 없는 타입

- 최상위 타입.
- 어떤 타입의 값도 할당할 수 있지만, `unknown`을 다른 타입에는 할당할 수 없다. (`any`는 가능)
- 타입 단언이나 타입 가드를 필요로 한다.
- 다양한 타입을 반환할 수 있든 API에서 유용할 수 있다.
- 다만, unknown보다 좀 더 명확한 타입을 사용하는 것이 좋다.

```ts
let any: any = 123;
let unknown: unknown = 123;

let boolVal: boolean = any; // any는 모든 타입에 할당할 수 있다.
let numberVal1: number = unknown; // unknown 형식은 number 형식에 할당할 수 없다
let anyVal: any = unknown; // unknown 형식은 any 형식에 할당할 수 있다.
// 타입 단언
let numberVal2: number = unknown as number; // 타입을 단언하면 unknown 형식도 any 외의 값에 할당할 수 있다.
```

### 객체 Object

- `typeof` 연산자가 `'object'`로 반환하는 모든 타입
- 객체의 프로퍼티에 대한 타입을 개별적으로 지정 가능하다.

  ```ts
  let dog: { sound: string; species: string; legs: number } = {
    sound: 'woof!',
    species: 'mammal',
    legs: 4,
  };
  ```

- 컴파일 옵션에서 `"strict": true`로 설정하면 `null`은 포함되지 않는다.

### Void

- void는 any의 반대의 개념이다.
- 어떤 유형도 가지지 않는다.
- 일반적으로 값을 반환하지 않는 함수의 반환 타입으로 볼 수 있다.
- 반환 타입을 명시하는 곳에 void 타입을 적는다.
- 값을 반환하지 않는 함수는 실제로는 `undefined`를 반환한다.

  ```ts
  function warnUser(): void {
    console.log('warning message');
  }
  ```

- `null` 또는 `undefined`만 할당할 수 있으므로, void 타입의 변수를 선언하는 것은 유용하지 않다.
  ```ts
  let unusable: void = undefined;
  unusable = null;
  ```
